var extractModuleHeader = require( './extractModuleHeader' ),
	fs   = require( 'fs' ),
	glob = require( 'glob'),
	_    = require( 'underscore' )


module.exports = function( filePath ) {
	var fileContent  = fs.readFileSync( filePath ).toString( 'utf-8' ),
		moduleHeader = extractModuleHeader( fileContent )

	if( !moduleHeader ) return

	if( !moduleHeader.name ) {
		console.error( 'Error: Anonymous module in file \'' + filePath + '\' is not supported.' )
		return
	}

	return {
		dependencies : moduleHeader.dependencies,
		name         : moduleHeader.name,
		source       : fileContent,
		path         : filePath
	}
}
